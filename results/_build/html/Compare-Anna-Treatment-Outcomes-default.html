
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compare Datasets &#8212; Impacts of returning to education on income, hours worked and mental health</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Direct Regression" href="Direct-Regression.html" />
    <link rel="prev" title="Data Preparation" href="Data-Processing-default.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Impacts of returning to education on income, hours worked and mental health</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Overview and Approach
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Data-Processing-default.html">
   Data Preparation
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Compare Datasets
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Direct-Regression.html">
   Direct Regression
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Direct-Regression-lasso-100.html">
     lasso-100
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Direct-Regression-lasso-50.html">
     lasso-50
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Direct-Regression-lasso-20.html">
     lasso-20
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Direct-Regression-lasso-10.html">
     lasso-10
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Compare-Anna-Treatment-Outcomes-default.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/Compare-Anna-Treatment-Outcomes-default.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-data-compare-overlap-of-instances-in-datasets">
   Load data &amp; compare overlap of instances in datasets
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#check-currently-studying-indicators">
     Check currently studying indicators
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#agreement-in-treatment-outcome-instances">
     Agreement in treatment, outcome &amp; instances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#for-people-in-both-datasets">
   For people in both datasets
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-treatment-computations">
     Compare treatment computations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compare-outcome-computations">
     Compare outcome computations
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="compare-datasets">
<h1>Compare Datasets<a class="headerlink" href="#compare-datasets" title="Permalink to this headline">¶</a></h1>
<div class="cell tag_hide_cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pyreadstat</span>
<span class="kn">from</span> <span class="nn">reed</span> <span class="kn">import</span> <span class="n">regex_select</span><span class="p">,</span> <span class="n">compute_confusion</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">500</span>

<span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>
</div>
</div>
</div>
<div class="section" id="load-data-compare-overlap-of-instances-in-datasets">
<h2>Load data &amp; compare overlap of instances in datasets<a class="headerlink" href="#load-data-compare-overlap-of-instances-in-datasets" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">idc</span> <span class="o">=</span> <span class="s1">&#39;xwaveid&#39;</span> <span class="c1"># merge id</span>
<span class="n">finn</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/all_vars.csv&quot;</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">anna</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="o">.</span><span class="n">read_dta</span><span class="p">(</span><span class="s2">&quot;../reduregvars.dta&quot;</span><span class="p">)</span>
<span class="n">raw</span><span class="p">,</span> <span class="n">meta_r</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="o">.</span><span class="n">read_sav</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;../part1/Combined a190c.sav&#39;</span><span class="p">)</span> 
<span class="n">raw</span><span class="p">[</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">anna</span><span class="p">[</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">anna</span><span class="p">[</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">finn</span><span class="p">[</span><span class="s1">&#39;in_finn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">anna</span><span class="p">[</span><span class="s1">&#39;in_anna&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="check-currently-studying-indicators">
<h3>Check currently studying indicators<a class="headerlink" href="#check-currently-studying-indicators" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">summary_study</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aedqstdy&#39;</span><span class="p">,</span><span class="s1">&#39;aedfts&#39;</span><span class="p">,</span><span class="s1">&#39;acaeft&#39;</span><span class="p">,</span><span class="s1">&#39;acaept&#39;</span><span class="p">,</span><span class="s1">&#39;anlreast&#39;</span><span class="p">,</span><span class="s1">&#39;abncsty&#39;</span><span class="p">,</span><span class="s1">&#39;abnfsty&#39;</span><span class="p">]</span>

<span class="n">c11_study</span> <span class="o">=</span> <span class="p">[</span>
 <span class="s1">&#39;aedcqsl&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqsh&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqnq&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqtq&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqta&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqtc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqc1&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqc2&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqc3&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqc4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqcd&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqad&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqav&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqbd&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqhd&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqgd&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqms&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqdc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqbc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqsc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqcc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqgc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqcn&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqdn&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqnei&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqna&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqos&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqdk&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">dv_asced_study</span> <span class="o">=</span> <span class="p">[</span>
 <span class="s1">&#39;aedcq100&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq110&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq120&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq200&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq211&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq221&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq310&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq311&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq312&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq400&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq411&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq413&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq421&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq500&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq511&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq514&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq521&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq524&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq600&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcq611&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aedcqunk&#39;</span>
<span class="p">]</span>

<span class="n">studying_all</span> <span class="o">=</span> <span class="n">summary_study</span> <span class="o">+</span> <span class="n">c11_study</span> <span class="o">+</span> <span class="n">dv_asced_study</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">studying_all</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">raw</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_columns_with_labels</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">meta</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span><span class="n">meta</span><span class="o">.</span><span class="n">column_names_to_labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    
<span class="n">print_columns_with_labels</span><span class="p">(</span><span class="n">summary_study</span><span class="p">,</span> <span class="n">meta_r</span><span class="p">,</span> <span class="s1">&#39;Summary columns&#39;</span><span class="p">)</span>
<span class="n">print_columns_with_labels</span><span class="p">(</span><span class="n">c11_study</span><span class="p">,</span> <span class="n">meta_r</span><span class="p">,</span> <span class="s1">&#39;C11 Questions&#39;</span><span class="p">)</span>
<span class="n">print_columns_with_labels</span><span class="p">(</span><span class="n">dv_asced_study</span><span class="p">,</span> <span class="n">meta_r</span><span class="p">,</span> <span class="s1">&#39;DV study&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Summary columns
---------------------
aedqstdy -&gt; C7a Qualifications obtained - Still studying
aedfts -&gt; DV: Full-time student
acaeft -&gt; FG1 Any calendar activity - Enrolled FT in school/educational course
acaept -&gt; FG1 Any calendar activity - Enrolled PT in school/educational course
anlreast -&gt; F12 Not looking for work - Studying/returning to studies
abncsty -&gt; G15 Do you currently receive any of these government pensions or allowances - Austudy/Abstudy payment
abnfsty -&gt; G31 Pensions/Allowances received - Austudy/Abstudy

C11 Questions
---------------------
aedcqsl -&gt; C11 Qualifications studying for - Secondary school - lower level
aedcqsh -&gt; C11 Qualifications studying for - Secondary school - highest level
aedcqnq -&gt; C11 Qualifications studying for - Nursing qualification
aedcqtq -&gt; C11 Qualifications studying for - Teaching qualification
aedcqta -&gt; C11 Qualifications studying for - Trade certificate or apprenticeship
aedcqtc -&gt; C11 Qualifications studying for - Technicians cert./Advanced certificate
aedcqc1 -&gt; C11 Qualifications studying for - Other certificate - level I
aedcqc2 -&gt; C11 Qualifications studying for - Other certificate - level II
aedcqc3 -&gt; C11 Qualifications studying for - Other certificate - level III
aedcqc4 -&gt; C11 Qualifications studying for - Other certificate - level IV
aedcqcd -&gt; C11 Qualifications studying for - Other certificate - dont know level
aedcqad -&gt; C11 Qualifications studying for - Associate diploma
aedcqav -&gt; C11 Qualifications studying for - Undergraduate diploma
aedcqbd -&gt; C11 Qualifications studying for - Bachelor degree but not honours
aedcqhd -&gt; C11 Qualifications studying for - Honours bachelor degree
aedcqgd -&gt; C11 Qualifications studying for - Post-graduate diploma
aedcqms -&gt; C11 Qualifications studying for - Masters degree
aedcqdc -&gt; C11 Qualifications studying for - Doctorate
aedcqbc -&gt; C11 Qualifications studying for - Business course NFI
aedcqsc -&gt; C11 Qualifications studying for - Secretarial certificate NFI
aedcqcc -&gt; C11 Qualifications studying for - Computer certificate NFI
aedcqgc -&gt; C11 Qualifications studying for - Graduate certificate
aedcqcn -&gt; C11 Qualifications studying for - Computer course NFI
aedcqdn -&gt; C11 Qualifications studying for - Diploma NFI
aedcqnei -&gt; C11 Qualifications studying for - NEI (Not Enough Information to classify)
aedcqna -&gt; C11 Qualifications studying for - Not Answered
aedcqos -&gt; C11 Qualifications studying for - Other
aedcqdk -&gt; C11 Qualifications studying for - Dont know

DV study
---------------------
aedcq100 -&gt; DV: ASCED 100 Postgraduate - Currently studying
aedcq110 -&gt; DV: ASCED 110 Doctoral degree - Currently studying
aedcq120 -&gt; DV: ASCED 120 Master degree - Currently studying
aedcq200 -&gt; DV: ASCED 200 Grad Dip and Grad Cert - Currently studying
aedcq211 -&gt; DV: ASCED 211 Graduate Diploma - Currently studying
aedcq221 -&gt; DV: ASCED 221 Graduate certificate - Currently studying
aedcq310 -&gt; DV: ASCED 310 Bachelor degree - Currently studying
aedcq311 -&gt; DV: ASCED 311 Bachelor (Honours) Degree - Currently studying
aedcq312 -&gt; DV: ASCED 312 Bachelor (Pass) Degree - Currently studying
aedcq400 -&gt; DV: ASCED 400 Advanced Diploma and Diploma - Currently studying
aedcq411 -&gt; DV: ASCED 411 Advanced Diploma - Currently studying
aedcq413 -&gt; DV: ASCED 413 Associate Degree - Currently studying
aedcq421 -&gt; DV: ASCED 421 Diploma - Currently studying
aedcq500 -&gt; DV: ASCED 500 Certificate level - Currently studying
aedcq511 -&gt; DV: ASCED 511 Certificate IV - Currently studying
aedcq514 -&gt; DV: ASCED 514 Certificate III - Currently studying
aedcq521 -&gt; DV: ASCED 521 Certificate II - Currently studying
aedcq524 -&gt; DV: ASCED 524 Certificate I - Currently studying
aedcq600 -&gt; DV: ASCED 600 Secondary education - Currently studying
aedcq611 -&gt; DV: ASCED 611 Year 12 - Currently studying
aedcqunk -&gt; DV: ASCED Unknown - Not enough information - Currently studying
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anna_</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">anna</span><span class="p">,</span> <span class="n">raw</span><span class="p">[</span><span class="n">studying_all</span><span class="o">+</span><span class="p">[</span><span class="n">idc</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="n">idc</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;aedcqfpt = &#39;</span><span class="p">,</span><span class="n">meta_r</span><span class="o">.</span><span class="n">column_names_to_labels</span><span class="p">[</span><span class="s1">&#39;aedcqfpt&#39;</span><span class="p">])</span>
<span class="n">anna_</span><span class="p">[</span><span class="n">studying_all</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>aedcqfpt =  C10b Currently studying full or part time
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>aedqstdy    0.0
aedfts      0.0
acaeft      0.0
acaept      0.0
anlreast    0.0
abncsty     0.0
abnfsty     0.0
aedcqsl     0.0
aedcqsh     0.0
aedcqnq     0.0
aedcqtq     0.0
aedcqta     0.0
aedcqtc     0.0
aedcqc1     0.0
aedcqc2     0.0
aedcqc3     0.0
aedcqc4     0.0
aedcqcd     0.0
aedcqad     0.0
aedcqav     0.0
aedcqbd     0.0
aedcqhd     0.0
aedcqgd     0.0
aedcqms     0.0
aedcqdc     0.0
aedcqbc     0.0
aedcqsc     0.0
aedcqcc     0.0
aedcqgc     0.0
aedcqcn     0.0
aedcqdn     0.0
aedcqnei    0.0
aedcqna     0.0
aedcqos     0.0
aedcqdk     0.0
aedcq100    0.0
aedcq110    0.0
aedcq120    0.0
aedcq200    0.0
aedcq211    0.0
aedcq221    0.0
aedcq310    0.0
aedcq311    0.0
aedcq312    0.0
aedcq400    0.0
aedcq411    0.0
aedcq413    0.0
aedcq421    0.0
aedcq500    0.0
aedcq511    0.0
aedcq514    0.0
aedcq521    0.0
aedcq524    0.0
aedcq600    0.0
aedcq611    0.0
aedcqunk    0.0
dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="agreement-in-treatment-outcome-instances">
<h3>Agreement in treatment, outcome &amp; instances<a class="headerlink" href="#agreement-in-treatment-outcome-instances" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># look at agreement of treatment, outcome and instances</span>
<span class="n">treatments</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;^reduhl$&#39;</span><span class="p">,</span> <span class="s1">&#39;^rehllt$&#39;</span><span class="p">,</span> <span class="s1">&#39;^redudl$&#39;</span><span class="p">,</span> <span class="s1">&#39;^redufl$&#39;</span><span class="p">,</span> <span class="s1">&#39;^redllt$&#39;</span><span class="p">,</span> <span class="s1">&#39;^refllt$&#39;</span><span class="p">]</span>
<span class="n">outcomes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;^rlwage$&#39;</span><span class="p">,</span> <span class="s1">&#39;^mh$&#39;</span><span class="p">,</span> <span class="s1">&#39;^mhbm$&#39;</span><span class="p">,</span> <span class="s1">&#39;^wkhr$&#39;</span><span class="p">,</span> <span class="s1">&#39;^y_&#39;</span><span class="p">]</span>
<span class="n">compare</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">,</span><span class="s2">&quot;^in_&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">treatments</span><span class="o">+</span><span class="n">outcomes</span><span class="o">+</span><span class="p">[</span><span class="s1">&#39;ahgage1&#39;</span><span class="p">]</span>

<span class="n">finn</span> <span class="o">=</span> <span class="n">finn</span><span class="p">[</span><span class="n">regex_select</span><span class="p">(</span><span class="n">finn</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">compare</span><span class="p">)]</span>
<span class="n">anna</span> <span class="o">=</span> <span class="n">anna</span><span class="p">[</span><span class="n">regex_select</span><span class="p">(</span><span class="n">anna</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">compare</span><span class="p">)]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">anna</span><span class="p">,</span><span class="n">finn</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;xwaveid&#39;</span><span class="p">],</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span><span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;_a&#39;</span><span class="p">,</span><span class="s1">&#39;_f&#39;</span><span class="p">))</span>
<span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_finn&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_anna&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">both</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_anna&#39;</span><span class="p">]</span><span class="o">&amp;</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_finn&#39;</span><span class="p">]]</span>
<span class="n">finn_only</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="o">~</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_anna&#39;</span><span class="p">]</span><span class="o">&amp;</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_finn&#39;</span><span class="p">]]</span>
<span class="n">anna_only</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_anna&#39;</span><span class="p">]</span><span class="o">&amp;~</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;in_finn&#39;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;In both:</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">both</span><span class="p">)</span><span class="si">}</span><span class="s1">, Finn only:</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">finn_only</span><span class="p">)</span><span class="si">}</span><span class="s1">, Anna only:</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">anna_only</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">both</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">finn_only</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">anna_only</span><span class="p">)</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="s2">&quot;merged frames must be same length&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>In both:5250, Finn only:191, Anna only:48
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="for-people-in-both-datasets">
<h2>For people in both datasets<a class="headerlink" href="#for-people-in-both-datasets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="compare-treatment-computations">
<h3>Compare treatment computations<a class="headerlink" href="#compare-treatment-computations" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">treatment_pairs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;reduhl_a&#39;</span><span class="p">,</span><span class="s1">&#39;reduhl_f&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;redudl_a&#39;</span><span class="p">,</span><span class="s1">&#39;redudl_f&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;redufl_a&#39;</span><span class="p">,</span><span class="s1">&#39;redufl_f&#39;</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">for</span> <span class="n">ta</span><span class="p">,</span> <span class="n">tf</span> <span class="ow">in</span> <span class="n">treatment_pairs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comparing:&quot;</span><span class="p">,(</span><span class="n">ta</span><span class="p">,</span> <span class="n">tf</span><span class="p">))</span>
    <span class="n">confusion</span> <span class="o">=</span> <span class="n">compute_confusion</span><span class="p">(</span><span class="n">both</span><span class="p">[</span><span class="n">ta</span><span class="p">],</span><span class="n">both</span><span class="p">[</span><span class="n">tf</span><span class="p">],</span><span class="s1">&#39;anna&#39;</span><span class="p">,</span><span class="s1">&#39;finn&#39;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">confusion</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">confusion</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;large number of instances treated according to anna but not finn&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comparing: (&#39;reduhl_a&#39;, &#39;reduhl_f&#39;)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>finn==0</th>
      <th>finn==1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>anna==0</th>
      <td>4463</td>
      <td>56</td>
    </tr>
    <tr>
      <th>anna==1</th>
      <td>0</td>
      <td>450</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comparing: (&#39;redudl_a&#39;, &#39;redudl_f&#39;)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>finn==0</th>
      <th>finn==1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>anna==0</th>
      <td>3935</td>
      <td>31</td>
    </tr>
    <tr>
      <th>anna==1</th>
      <td>13</td>
      <td>1267</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comparing: (&#39;redufl_a&#39;, &#39;redufl_f&#39;)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>finn==0</th>
      <th>finn==1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>anna==0</th>
      <td>3932</td>
      <td>30</td>
    </tr>
    <tr>
      <th>anna==1</th>
      <td>13</td>
      <td>1271</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">both</span><span class="p">[</span><span class="n">both</span><span class="p">[</span><span class="s1">&#39;redudl_a&#39;</span><span class="p">]</span><span class="o">!=</span><span class="n">both</span><span class="p">[</span><span class="s1">&#39;redudl_f&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;data/anna_compare.csv&quot;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compare-outcome-computations">
<h3>Compare outcome computations<a class="headerlink" href="#compare-outcome-computations" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>These are almost identical. The difference is probably as I haven’t replaced the values for those claiming to be working more than 100 hours per week.</p></li>
</ul>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outcome_pairs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;mh&#39;</span><span class="p">,</span><span class="s1">&#39;y_ghmh&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;wkhr&#39;</span><span class="p">,</span><span class="s1">&#39;y_jbhruc&#39;</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">for</span> <span class="n">oa</span><span class="p">,</span> <span class="n">of</span> <span class="ow">in</span> <span class="n">outcome_pairs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comparing:&quot;</span><span class="p">,(</span><span class="n">oa</span><span class="p">,</span> <span class="n">of</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">both</span><span class="p">[</span><span class="n">oa</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">both</span><span class="p">[</span><span class="n">of</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comparing: (&#39;mh&#39;, &#39;y_ghmh&#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1., 1.],
       [1., 1.]])
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comparing: (&#39;wkhr&#39;, &#39;y_jbhruc&#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1.        , 0.99991192],
       [0.99991192, 1.        ]])
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="Data-Processing-default.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Data Preparation</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="Direct-Regression.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Direct Regression</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Finn Lattimore<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>